local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local humanoid = char:WaitForChild("Humanoid")

local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 200, 0, 200)
Frame.Position = UDim2.new(0.5, -100, 0.5, -100)
Frame.BackgroundColor3 = Color3.fromRGB(40,40,40)
Frame.BorderSizePixel = 2

local UIList = Instance.new("UIListLayout", Frame)
UIList.Padding = UDim.new(0,5)
UIList.FillDirection = Enum.FillDirection.Vertical
UIList.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIList.VerticalAlignment = Enum.VerticalAlignment.Center

local settings = {
    fps = 1,
    badWifi = true
}

local function makeBtn(name, func)
    local btn = Instance.new("TextButton", Frame)
    btn.Size = UDim2.new(0, 160, 0, 40)
    btn.Text = name
    btn.BackgroundColor3 = Color3.fromRGB(60,60,60)
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.TextScaled = true
    btn.MouseButton1Click:Connect(func)
end


makeBtn("FPS = 1", function() settings.fps = 1; setfpscap(1) end)
makeBtn("FPS = 2", function() settings.fps = 2; setfpscap(2) end)
makeBtn("FPS = 30", function() settings.fps = 30; setfpscap(30) end)
makeBtn("FPS = 60 (Normal)", function() settings.fps = 60; setfpscap(60) end)


makeBtn("Toggle Bad Wi-Fi", function() settings.badWifi = not settings.badWifi end)


task.spawn(function()
    while true do
        if settings.badWifi then
            -- Иногда персонаж зависает
            if math.random() < 0.3 then
                humanoid.WalkSpeed = 0
                task.wait(math.random(1,3)/settings.fps)
            end

            
            if math.random() < 0.5 then
                local offset = Vector3.new(math.random(-5,5),0,math.random(-5,5))
                hrp.CFrame = hrp.CFrame + offset
            end

            
            humanoid.WalkSpeed = math.random(2,6)
        else
            humanoid.WalkSpeed = 16
        end

        task.wait(1/settings.fps)
    end
end)
